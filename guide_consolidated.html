<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.24">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>guide_consolidated</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="guide_consolidated_files/libs/clipboard/clipboard.min.js"></script>
<script src="guide_consolidated_files/libs/quarto-html/quarto.js" type="module"></script>
<script src="guide_consolidated_files/libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="guide_consolidated_files/libs/quarto-html/popper.min.js"></script>
<script src="guide_consolidated_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="guide_consolidated_files/libs/quarto-html/anchor.min.js"></script>
<link href="guide_consolidated_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="guide_consolidated_files/libs/quarto-html/quarto-syntax-highlighting-a37c72dd2dbac68997fcdc15a3622e78.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="guide_consolidated_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="guide_consolidated_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="guide_consolidated_files/libs/bootstrap/bootstrap-81267100e462c21b3d6c0d5bf76a3417.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">


</head>

<body class="fullcontent quarto-light">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">




<section id="guide-to-creating-combined-local-level-geographic-datasets" class="level1">
<h1>Guide to Creating Combined Local-Level Geographic Datasets</h1>
<section id="the-sub-county-data-gap-in-local-government-policy-analysis" class="level2">
<h2 class="anchored" data-anchor-id="the-sub-county-data-gap-in-local-government-policy-analysis">The Sub-County Data Gap in Local Government Policy Analysis</h2>
<p>Local government policy analysts and decision makers face a critical challenge in accessing granular, policy-relevant data at the sub-county level. While county-level data has become increasingly available and standardized across the United States, the lack of systematic collection and dissemination of sub-county information creates significant limitations for municipal and local government officials who need to make informed decisions for their communities[1][2].</p>
<p>The fundamental issue lies in the fact that most public health and demographic surveillance data are “limited mostly to the county or state level,” creating a void where local decision makers need the most granular information[2]. This data gap is particularly problematic because local governments operate at a scale where county-level aggregated data often obscures critical variations in community needs, demographics, and outcomes that exist within county boundaries. For instance, a county may show adequate performance on aggregate measures while specific neighborhoods or sub-county areas experience significant challenges that require targeted policy interventions[3].</p>
<p>The shortage of sub-county data presents multiple barriers to effective local governance. Most critically, it hampers the ability of local officials to identify health disparities, infrastructure needs, and social inequities within their jurisdictions that may be masked by county-level aggregations[3]. This limitation is compounded by technical challenges inherent in small-area data collection, including “data and statistical reliability issues when using small case (numerator) and population (denominator) numbers” and confidentiality concerns where individual identification might be possible in areas with small populations[4]. These methodological constraints have led to systematic underinvestment in sub-county data infrastructure, creating a vicious cycle where the lack of reliable small-area data discourages further development of collection and analysis capabilities.</p>
<p>Furthermore, the absence of standardized sub-county data collection processes across different jurisdictions makes it difficult for local governments to benchmark their performance, share best practices, or coordinate regional responses to shared challenges[1]. While initiatives like the CDC’s Environmental Public Health Tracking Program have begun developing methodologies for aggregating census tracts to create more reliable sub-county geographies, these efforts remain limited in scope and do not address the full range of policy-relevant indicators that local decision makers require[4]. The result is that local government policy analysts often must make critical decisions about resource allocation, service delivery, and community development without access to the granular, locally-relevant data that would enable more targeted and effective interventions[5][6].</p>
</section>
<section id="the-need-for-purpose-built-sub-county-datasets" class="level2">
<h2 class="anchored" data-anchor-id="the-need-for-purpose-built-sub-county-datasets">The Need for Purpose-Built Sub-County Datasets</h2>
<p>The data collection challenges outlined above ultimately point to a more fundamental need: the construction of sub-county datasets that align with the geographies that matter most to local decision makers, rather than defaulting to existing statistical boundaries that may not reflect the functional reality of how communities operate, how services are delivered, or how policy interventions need to be targeted.</p>
<p>Local government officials require data for geographies that correspond to their actual spheres of influence and responsibility. This includes <strong>neighborhoods</strong> defined by social cohesion, economic activity, and shared infrastructure rather than arbitrary census tract boundaries[43]. It encompasses <strong>metro corridors</strong> where transit-oriented development policies need implementation[44], commercial districts where economic development strategies are focused, school catchment areas where educational interventions are planned, and service delivery zones where public health programs are deployed. These functional areas rarely align with the neat administrative boundaries of census tracts, ZIP codes, or county subdivisions that currently serve as the default units for most data collection efforts[45][46].</p>
<p>The imperative for purpose-built datasets becomes particularly acute when considering that many of the most pressing local policy challenges operate across multiple traditional boundary systems. For instance, addressing transportation equity requires understanding commuting patterns that span multiple census tracts and ZIP codes[47]. Tackling neighborhood-level health disparities requires data aggregation that reflects actual community boundaries rather than statistical convenience[48]. Economic development initiatives often need to target specific commercial corridors or industrial zones that bear no relationship to census geography[49].</p>
<section id="the-geographic-boundary-misalignment-problem" class="level3">
<h3 class="anchored" data-anchor-id="the-geographic-boundary-misalignment-problem">The Geographic Boundary Misalignment Problem</h3>
<p>However, constructing these purpose-built sub-county datasets presents significant methodological challenges, chief among them the pervasive problem of geographic boundary misalignment. This fundamental issue, known in geographic research as the <strong>Modifiable Areal Unit Problem (MAUP)</strong>, occurs when spatial data aggregated into different boundary systems produces varying analytical results despite representing the same underlying phenomena[50].</p>
<p>The misalignment challenge manifests in multiple dimensions. <strong>Temporal misalignment</strong> occurs because different boundary systems change on different schedules - census tract boundaries are redrawn every decade, ZIP code boundaries change frequently based on postal service operational needs, municipal boundaries shift through annexation and incorporation, while school district boundaries may remain stable for years before sudden major reorganization[51][52]. This creates substantial difficulties in constructing longitudinal datasets that can track policy outcomes over time, as what appears to be change may actually reflect boundary modifications rather than real substantive shifts[53].</p>
<p><strong>Spatial non-correspondence</strong> represents an even more complex challenge, where different boundary systems simply do not align geographically. ZIP codes, designed for mail delivery efficiency, cut across multiple municipalities and census tracts with no regard for local government jurisdictions[54][48]. A single school district may span three counties and encompass parts of more than a dozen ZIP codes[45]. Census tracts, while designed to be relatively stable, follow visible features and governmental boundaries that may not reflect the social or economic geography relevant to policy interventions[55].</p>
<p><strong>Functional misalignment</strong> occurs when administrative boundaries fail to capture the actual geographic scope of the phenomena being studied or the policy interventions being planned. A neighborhood experiencing gentrification may span multiple census tracts, making it impossible to accurately measure displacement using standard geographic units. A metro corridor targeted for transit-oriented development may include portions of several ZIP codes, making it difficult to assess the impact of zoning changes or infrastructure investments using existing data aggregation approaches.</p>
<p><strong>Scale dependency</strong> further complicates the boundary alignment problem, as the choice of geographic unit fundamentally alters analytical results. Research has demonstrated that up to 49 percent of a population can have their actual municipality misclassified when ZIP codes are used as proxies for local government jurisdiction[48]. Studies examining historical redlining effects find that sensitivity rates for correctly identifying affected neighborhoods can vary from 44 percent to 77 percent depending on which census geography is used and which alignment method is employed[55].</p>
<p>These boundary misalignment problems are not merely technical inconveniences but create systematic biases in policy analysis and resource allocation. When local governments rely on misaligned data to identify service needs, they may consistently under-serve areas where problems are masked by boundary aggregation effects, or over-serve areas where problems appear more severe due to how boundaries happen to divide the underlying geography. The <strong>Flint Water Crisis</strong> represents a stark example of how geographic misalignment can have life-or-death consequences, where ZIP code-based analysis would have failed to identify the precise neighborhoods affected by contaminated water systems[48].</p>
<p>Furthermore, the costs of addressing boundary misalignment through sophisticated interpolation or re-aggregation techniques often exceed the capacity of local government policy analysis units. While academic researchers and federal agencies may have the resources to employ complex spatial statistical methods to harmonize data across boundary systems[56][53], local decision makers typically need accessible, interpretable data that can inform immediate policy decisions without requiring advanced GIS expertise or computational resources.</p>
<p>The result is that local government policy analysts face an impossible choice: use readily available but potentially misleading data aggregated to inappropriate geographic boundaries, or forgo quantitative analysis altogether in favor of less systematic approaches to policy development. Neither option serves the ultimate goal of evidence-based local governance that can effectively address the spatially-specific challenges facing communities across the United States.</p>
</section>
</section>
<section id="introduction-the-challenge-of-misaligned-geographic-boundaries" class="level2">
<h2 class="anchored" data-anchor-id="introduction-the-challenge-of-misaligned-geographic-boundaries">Introduction: The Challenge of Misaligned Geographic Boundaries</h2>
<p>Local government policy analysts frequently encounter a fundamental challenge when working with geospatial data: datasets are often aggregated at different geographic scales that do not align with each other or with the specific geographic units of policy interest. This misalignment creates what geographers call the “Modifiable Areal Unit Problem” (MAUP), where the boundaries used for data collection may not correspond to the boundaries that are most meaningful for policy analysis or community engagement[82].</p>
<p>Consider a scenario where a local government wants to understand how internet connectivity (broadband speeds) relates to socioeconomic conditions (median household income) within the context of neighborhood-level civic engagement and representation. Such an analysis is particularly relevant for Arlington County, Virginia, where 62 distinct civic associations serve as important channels for community input and local governance[83][84]. These civic associations represent genuine neighborhood identities and community interests that cross-cut the administrative boundaries used by federal agencies for data collection and reporting.</p>
<p>[Map Insert Location 1: A map showing Arlington County with civic association boundaries overlaid on a base map, demonstrating how these boundaries differ from typical census geographies]</p>
<div class="quarto-figure quarto-figure-center" style="color: gray;">
<figure class="figure">
<p><img src="images/3plots.png" class="img-fluid figure-img"></p>
<figcaption>The goal is to transform both Ookla Broadband Speed data (left) and American Community Survey Household Income data (center) into Arlington County Civic Association geographies (right)</figcaption>
</figure>
</div>
<p>The challenge becomes apparent when we consider the geographic scales at which different types of data are available:</p>
<p><strong>Broadband Speed Data</strong>: Companies like Ookla collect internet speed test data and aggregate it into standardized tiles that are approximately 610.8 meters by 610.8 meters (about 0.37 square kilometers) at the equator[85][86][87]. These tiles are created using a Web Mercator projection at zoom level 16 and are designed to create manageable datasets from hundreds of millions of speed tests taken monthly[88]. While this provides fine-scale geographic detail, the tile boundaries bear no relationship to political or community boundaries.</p>
<p><strong>Socioeconomic Data</strong>: The U.S. Census Bureau’s American Community Survey (ACS) provides detailed demographic and economic data, including median household income (variable B19013_001), aggregated to census geographic units such as census tracts and block groups[89][90]. The 5-year ACS estimates are available down to the census block group level, which typically contain 600 to 3,000 people[89]. However, these boundaries are designed for statistical efficiency rather than community representation.</p>
<p><strong>Community Representation</strong>: Arlington’s civic associations represent genuine neighborhood communities and serve as formal channels for community input to local government[84][91]. These associations have boundaries that reflect actual community identities, local landmarks, and neighborhood characteristics, but they do not align with either Ookla tiles or census geography.</p>
<p>This misalignment creates several analytical challenges:</p>
<ol type="1">
<li><strong>Ecological Fallacy</strong>: Conclusions drawn from data aggregated at one geographic scale may not hold true at another scale</li>
<li><strong>Boundary Effects</strong>: Important variations that occur near boundaries may be obscured or misrepresented</li>
<li><strong>Policy Relevance</strong>: Analysis conducted at inappropriate geographic scales may not inform the actual decision-making units that matter for policy implementation</li>
</ol>
</section>
<section id="why-this-analysis-matters-understanding-the-digital-divide-at-the-community-level" class="level2">
<h2 class="anchored" data-anchor-id="why-this-analysis-matters-understanding-the-digital-divide-at-the-community-level">Why This Analysis Matters: Understanding the Digital Divide at the Community Level</h2>
<p>The relationship between internet access and socioeconomic status has become a critical policy issue, particularly in the wake of the COVID-19 pandemic, which highlighted how digital connectivity affects access to employment, education, healthcare, and civic participation[92][93]. Research has consistently shown that broadband access is not equally distributed across communities, with significant disparities based on income, race, ethnicity, and geography[94][95].</p>
<p>Understanding these disparities at the neighborhood level is essential for several reasons:</p>
<p><strong>Targeted Policy Interventions</strong>: Effective broadband policy requires understanding where the need is greatest and which communities are underserved. Analysis at the civic association level can help identify specific neighborhoods where public investments or policy interventions would have the greatest impact[93][96].</p>
<p><strong>Community Engagement</strong>: Civic associations serve as important channels for community input and local governance. Understanding broadband access patterns within these community-defined boundaries enables more effective engagement with residents and community leaders[91].</p>
<p><strong>Equity Assessment</strong>: Federal and local policies increasingly emphasize digital equity as a civil rights issue[96]. Analysis at the community level can help identify whether public investments and policies are reaching the communities that need them most.</p>
<p><strong>Economic Development</strong>: Research suggests that broadband access can significantly impact household income, with some studies indicating that upgrading from basic to high-speed broadband can increase household income by thousands of dollars annually[97]. Understanding these patterns at the neighborhood level can inform economic development strategies.</p>
</section>
<section id="data-description" class="level2">
<h2 class="anchored" data-anchor-id="data-description">Data Description</h2>
<section id="ookla-speedtest-data" class="level3">
<h3 class="anchored" data-anchor-id="ookla-speedtest-data">Ookla Speedtest Data</h3>
<p>Ookla’s open dataset provides global fixed broadband and mobile network performance metrics aggregated into Web Mercator tiles[85][86]. Key characteristics include:</p>
<ul>
<li><strong>Geographic Unit</strong>: Zoom level 16 Web Mercator tiles (approximately 610.8m × 610.8m at the equator)</li>
<li><strong>Variables</strong>: Average download speed, upload speed, and latency for each tile</li>
<li><strong>Data Source</strong>: Aggregated from millions of speed tests taken via Speedtest applications</li>
<li><strong>Quality Control</strong>: Measurements filtered to include only results with GPS-quality location accuracy</li>
<li><strong>Temporal Coverage</strong>: Data available quarterly from 2019 onwards</li>
<li><strong>Projection</strong>: EPSG:4326 (WGS 84) for geometric representation</li>
</ul>
<p>[Map Insert Location 2: A detailed map showing Ookla tiles overlaid on a portion of Arlington County, demonstrating the fine-scale grid pattern and how it relates to local geography]</p>
</section>
<section id="american-community-survey-data" class="level3">
<h3 class="anchored" data-anchor-id="american-community-survey-data">American Community Survey Data</h3>
<p>The ACS provides comprehensive demographic and economic data for the United States[89][90]. For this analysis, we focus on:</p>
<ul>
<li><strong>Variable</strong>: B19013_001 (Median Household Income in the past 12 months)</li>
<li><strong>Geographic Unit</strong>: Census block groups</li>
<li><strong>Dataset</strong>: 5-year estimates (providing the finest geographic detail available)</li>
<li><strong>Sample</strong>: Based on approximately 3.5 million addresses surveyed annually</li>
<li><strong>Margin of Error</strong>: All estimates include margins of error reflecting sampling variability</li>
<li><strong>Currency</strong>: Income figures are inflation-adjusted to current dollars</li>
</ul>
</section>
<section id="arlington-civic-associations" class="level3">
<h3 class="anchored" data-anchor-id="arlington-civic-associations">Arlington Civic Associations</h3>
<p>Arlington County recognizes 62 civic associations that serve as formal channels for community input and neighborhood representation[98][84]. These associations:</p>
<ul>
<li><strong>Boundaries</strong>: Defined by community identity, local landmarks, and neighborhood characteristics</li>
<li><strong>Governance</strong>: Each association elects representatives to the Arlington County Civic Federation</li>
<li><strong>Policy Role</strong>: Provide formal input on development projects, transportation plans, and other local issues</li>
<li><strong>Geographic Coverage</strong>: Comprehensive coverage of Arlington County’s residential areas</li>
</ul>
<p>[Map Insert Location 3: A comprehensive map of all 62 Arlington civic associations with labels, showing the diversity in size and shape of these community-defined boundaries]</p>
</section>
</section>
<section id="methodological-approach" class="level2">
<h2 class="anchored" data-anchor-id="methodological-approach">Methodological Approach</h2>
<section id="census-data-disaggregation-strategy" class="level3">
<h3 class="anchored" data-anchor-id="census-data-disaggregation-strategy">Census Data Disaggregation Strategy</h3>
<p>The approach for ACS data involves a two-step process:</p>
<ol type="1">
<li><p><strong>Block Group to Block Disaggregation</strong>: First, we distribute the block group-level median household income data evenly across all census blocks within each block group. This assumes that income is uniformly distributed within block groups, which is a simplifying assumption but necessary given data availability constraints[82][104].</p></li>
<li><p><strong>Block to Civic Association Aggregation</strong>: Second, we aggregate the block-level estimates up to civic association boundaries using area-weighted methods. This preserves the total population and income estimates while respigning them to policy-relevant geographic units[105].</p></li>
</ol>
<p>[Diagram Insert Location 1: A flowchart showing the data transformation process from source geographies to target geography]</p>
<p><img src="images/ACS%20Data%20Transform.png" class="img-fluid"></p>
<p>This two-step approach is necessary because: - ACS data is not available at the census block level for most variables - Census blocks provide a finer geographic resolution that better supports accurate areal interpolation - The hierarchical relationship between blocks and block groups ensures data consistency</p>
</section>
<section id="understanding-areal-interpolation" class="level3">
<h3 class="anchored" data-anchor-id="understanding-areal-interpolation">Understanding Areal Interpolation</h3>
<p>Areal interpolation is a spatial analysis technique that estimates values for one set of geographic areas (target zones) based on known values from a different set of geographic areas (source zones) that overlap but do not have coincident boundaries[99][100]. This technique is essential when combining datasets that use different geographic reporting units.</p>
<p>The fundamental assumption underlying areal interpolation is that the phenomenon being studied has some predictable spatial distribution pattern. Different interpolation methods make different assumptions about this distribution:</p>
<p><strong>Areal Weighted Interpolation</strong>: Assumes that the variable of interest is uniformly distributed within each source zone. Values are allocated to target zones proportionally based on the area of overlap[100][101].</p>
<p><strong>Dasymetric Mapping</strong>: Uses additional data sources (such as land use data) to refine the allocation, recognizing that variables like population are not uniformly distributed across space[100][102].</p>
<p><strong>Pycnophylactic Interpolation</strong>: Creates smooth surfaces that avoid sharp discontinuities between adjacent areas while preserving the total value from source zones[100][103].</p>
<p>For broadband speed data from Ookla tiles, areal weighted interpolation is appropriate because the tiles are relatively small and uniform, and the underlying assumption that internet speeds are relatively consistent within each tile is reasonable[99].</p>
<p><img src="images/Ookla%20transform.png" class="img-fluid"></p>
<p><strong>Single-Step Process</strong>: Unlike the ACS data transformation which required two steps (disaggregation then aggregation), the Ookla broadband data transformation is a direct, single-step process using areal interpolation.</p>
<p><strong>Source Data Characteristics</strong>: - <strong>Ookla Tiles</strong>: Web Mercator tiles at zoom level 16 (approximately 610.8m × 610.8m at the equator) - <strong>Data Variables</strong>: Average download speed, upload speed, latency, and number of tests per tile - <strong>Coverage</strong>: Fine-scale geographic detail with standardized tile boundaries</p>
<p><strong>Areal Interpolation Methodology</strong>: - <strong>Area-Weighted Averaging</strong>: Speed values are weighted by the intersection area between Ookla tiles and civic association boundaries - <strong>Preservation of Data Integrity</strong>: The method maintains the statistical properties of the original speed measurements while transforming to policy-relevant boundaries - <strong>Quality Control</strong>: Tiles with insufficient test samples (&lt; 5 tests) are filtered out to ensure statistical reliability</p>
<p><strong>Target Geography Benefits</strong>: - <strong>Policy Relevance</strong>: Results align with civic association boundaries that matter for community engagement and local governance - <strong>Community Scale</strong>: Analysis conducted at the neighborhood level where digital equity interventions are most effective - <strong>Direct Application</strong>: Output can be immediately used for infrastructure planning and resource allocation decisions</p>
<p>This transformation enables Arlington County to understand broadband performance patterns at the civic association level, supporting targeted digital equity initiatives and evidence-based policy making for community-specific infrastructure investments.</p>
</section>
<section id="validation-and-uncertainty" class="level3">
<h3 class="anchored" data-anchor-id="validation-and-uncertainty">Validation and Uncertainty</h3>
<p>All areal interpolation methods introduce uncertainty, and it’s important to acknowledge and, where possible, quantify this uncertainty:</p>
<p><strong>Source Data Quality</strong>: Both Ookla and ACS data have inherent limitations. Ookla data may be biased toward areas with more active internet users, while ACS data has sampling margins of error that increase for smaller geographic areas[89][106].</p>
<p><strong>Interpolation Uncertainty</strong>: The accuracy of areal interpolation depends on how well the underlying assumptions match reality. Uniform distribution assumptions may not hold in areas with significant variation in population density or land use patterns[100][101].</p>
<p><strong>Boundary Effects</strong>: Civic association boundaries may cross areas with different characteristics, potentially leading to averaging effects that obscure important local variations[82].</p>
</section>
</section>
<section id="step-by-step-implementation-process" class="level2">
<h2 class="anchored" data-anchor-id="step-by-step-implementation-process">Step-by-Step Implementation Process</h2>
<section id="step-1-data-acquisition" class="level3">
<h3 class="anchored" data-anchor-id="step-1-data-acquisition">Step 1: Data Acquisition</h3>
<p><strong>Ookla Data</strong>: 1. Download quarterly Ookla data from the GitHub repository (https://github.com/teamookla/ookla-open-data) 2. Filter data to Arlington County bounding box to reduce file size 3. Select most recent available quarter for analysis 4. Choose either fixed broadband or mobile data based on research question</p>
<p><strong>ACS Data</strong>: 1. Use Census API or tidycensus package to download block group-level data for Arlington County 2. Download median household income (B19013_001) with margin of error 3. Obtain both 2020 census block and block group boundary files 4. Ensure all data uses the same coordinate reference system</p>
<p><strong>Civic Association Boundaries</strong>: 1. Load the provided GeoJSON file containing Arlington civic association boundaries 2. Verify coordinate reference system matches other datasets 3. Check for any gaps or overlaps in coverage</p>
</section>
<section id="step-2-data-preprocessing" class="level3">
<h3 class="anchored" data-anchor-id="step-2-data-preprocessing">Step 2: Data Preprocessing</h3>
<p><strong>Coordinate System Standardization</strong>:</p>
<pre><code># All datasets should be projected to the same coordinate system
# For local analysis, use a projected coordinate system like State Plane Virginia North
target_crs &lt;- "EPSG:3968"  # State Plane Virginia North (US Feet)</code></pre>
<p><strong>Data Quality Checks</strong>: 1. Verify that all civic associations are represented 2. Check for missing data in ACS variables 3. Validate that Ookla tiles have reasonable speed values 4. Ensure block group and block geographies nest properly</p>
</section>
<section id="step-3-areal-interpolation-implementation" class="level3">
<h3 class="anchored" data-anchor-id="step-3-areal-interpolation-implementation">Step 3: Areal Interpolation Implementation</h3>
<p><strong>Ookla to Civic Associations</strong>: 1. Calculate intersection areas between Ookla tiles and civic association boundaries 2. Weight speed values by intersection area 3. Aggregate weighted values to civic association level 4. Calculate both area-weighted means and total area coverage</p>
<p><strong>ACS Block Group to Block Disaggregation</strong>: 1. Spatially join blocks to their parent block groups 2. Assign block group median income value to all blocks within the group 3. This assumes uniform income distribution within block groups</p>
<p><strong>Block to Civic Association Aggregation</strong>: 1. Calculate intersection areas between census blocks and civic associations 2. Weight population by intersection area 3. Calculate population-weighted average income for each civic association 4. Preserve margins of error through error propagation methods</p>
<p>[Code Block Insert Location 1: Example R code showing the areal interpolation workflow]</p>
</section>
<section id="step-4-data-integration-and-validation" class="level3">
<h3 class="anchored" data-anchor-id="step-4-data-integration-and-validation">Step 4: Data Integration and Validation</h3>
<p><strong>Combine Datasets</strong>: 1. Join interpolated broadband speeds with interpolated income data by civic association 2. Calculate additional variables such as speed categories or income quintiles 3. Create quality indicators showing interpolation confidence</p>
<p><strong>Validation Steps</strong>: 1. Check that total population matches source data 2. Verify that interpolated values fall within reasonable ranges 3. Compare results to known patterns or alternative data sources where available 4. Calculate and report interpolation uncertainty estimates</p>
</section>
<section id="step-5-analysis-and-visualization" class="level3">
<h3 class="anchored" data-anchor-id="step-5-analysis-and-visualization">Step 5: Analysis and Visualization</h3>
<p><strong>Exploratory Analysis</strong>: 1. Create choropleth maps showing speed and income distributions 2. Calculate correlation coefficients between speed and income 3. Identify outlier civic associations for further investigation</p>
<p><strong>Statistical Analysis</strong>: 1. Test for spatial autocorrelation in both variables 2. Estimate regression models accounting for spatial relationships 3. Control for potential confounding variables such as population density</p>
<p>[Map Insert Location 4: A bivariate choropleth map showing the relationship between broadband speed and income across civic associations]</p>
<p><img src="images/bivariate.png" class="img-fluid"></p>
<p>[Map Insert Location 5: A series of small multiple maps showing how the analysis could be extended to other variables or time periods]</p>
</section>
</section>
</section>
<section id="implementation-of-arlington-broadband-and-income-analysis-using-complete-datasets" class="level1">
<h1>Implementation of Arlington Broadband and Income Analysis Using Complete Datasets</h1>
<section id="dataset-validation-and-preparation" class="level2">
<h2 class="anchored" data-anchor-id="dataset-validation-and-preparation">Dataset Validation and Preparation</h2>
<section id="available-data-assessment" class="level3">
<h3 class="anchored" data-anchor-id="available-data-assessment">Available Data Assessment</h3>
<p><strong>Census Blocks (va013_geo_blocks.geojson)</strong>: The census block dataset contains 2,431 individual blocks covering Arlington County, with essential attributes including: - Population (POP20): Ranges from 0 to 688 residents per block - Housing units (HOUSING20): From 0 to 427 units per block<br>
- Land area (ALAND20): Highly variable, from small urban blocks to larger areas - Geographic identifiers (GEOID20): Enabling linkage to ACS data</p>
<p><strong>Civic Association Boundaries (va013_geo_arl_2021_civic_associations.geojson)</strong>: Contains all 62 Arlington civic associations including: - Williamsburg, Old Dominion, Maywood, Ballston-Virginia Square - Major associations like Bluemont, Clarendon-Courthouse, Arlington Heights - Smaller neighborhoods like Cherry Valley Nature Area and Rivercrest</p>
<p><strong>Spatial Coverage Analysis</strong>: The civic associations provide comprehensive coverage of Arlington County’s residential areas, with boundaries that reflect genuine community identities rather than administrative convenience. Block sizes vary significantly, from dense urban cores to larger suburban areas, which will affect interpolation accuracy. ## Methodology Implementation</p>
</section>
<section id="step-1-coordinate-system-standardization" class="level3">
<h3 class="anchored" data-anchor-id="step-1-coordinate-system-standardization">Step 1: Coordinate System Standardization</h3>
<div class="sourceCode" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Load required libraries</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(sf)</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(areal)</span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Standardize all datasets to Virginia State Plane North</span></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>target_crs <span class="ot">&lt;-</span> <span class="st">"EPSG:3968"</span></span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Load and transform datasets</span></span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a>civic_associations <span class="ot">&lt;-</span> <span class="fu">st_read</span>(<span class="st">"va013_geo_arl_2021_civic_associations.geojson"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">st_transform</span>(target_crs)</span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a>census_blocks <span class="ot">&lt;-</span> <span class="fu">st_read</span>(<span class="st">"va013_geo_blocks.geojson"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">st_transform</span>(target_crs)</span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true" tabindex="-1"></a>acs_block_groups <span class="ot">&lt;-</span> <span class="fu">st_read</span>(<span class="st">"va013_median_household_income.geojson"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb2-17"><a href="#cb2-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">st_transform</span>(target_crs)</span>
<span id="cb2-18"><a href="#cb2-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-19"><a href="#cb2-19" aria-hidden="true" tabindex="-1"></a>ookla_tiles <span class="ot">&lt;-</span> <span class="fu">st_read</span>(<span class="st">"ookla_tiles_arlington.geojson"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb2-20"><a href="#cb2-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">st_transform</span>(target_crs)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="step-2-acs-data-disaggregation-block-group-to-block" class="level3">
<h3 class="anchored" data-anchor-id="step-2-acs-data-disaggregation-block-group-to-block">Step 2: ACS Data Disaggregation (Block Group to Block)</h3>
<p>The first major spatial transformation involves disaggregating median household income from block groups to individual census blocks:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Spatial join blocks to their parent block groups</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>blocks_with_income <span class="ot">&lt;-</span> <span class="fu">st_join</span>(census_blocks, acs_block_groups) <span class="sc">%&gt;%</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(GEOID20, POP20, HOUSING20, estimate, moe) <span class="sc">%&gt;%</span></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(</span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">block_id =</span> GEOID20,</span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">population =</span> POP20,</span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">housing_units =</span> HOUSING20,</span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">median_income =</span> estimate,</span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">income_moe =</span> moe</span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Remove water-only blocks for more accurate interpolation</span></span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(population <span class="sc">&gt;</span> <span class="dv">0</span> <span class="sc">|</span> housing_units <span class="sc">&gt;</span> <span class="dv">0</span>)</span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate population density for validation</span></span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true" tabindex="-1"></a>blocks_with_income <span class="ot">&lt;-</span> blocks_with_income <span class="sc">%&gt;%</span></span>
<span id="cb3-16"><a href="#cb3-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb3-17"><a href="#cb3-17" aria-hidden="true" tabindex="-1"></a>    <span class="at">area_sq_km =</span> <span class="fu">as.numeric</span>(<span class="fu">st_area</span>(geometry)) <span class="sc">/</span> <span class="dv">1000000</span>,</span>
<span id="cb3-18"><a href="#cb3-18" aria-hidden="true" tabindex="-1"></a>    <span class="at">pop_density =</span> population <span class="sc">/</span> area_sq_km</span>
<span id="cb3-19"><a href="#cb3-19" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>This step assumes uniform income distribution within block groups, which is a limitation but necessary given data availability constraints.</p>
</section>
<section id="step-3-block-to-civic-association-aggregation" class="level3">
<h3 class="anchored" data-anchor-id="step-3-block-to-civic-association-aggregation">Step 3: Block to Civic Association Aggregation</h3>
<p>The second transformation aggregates block-level data to civic association boundaries:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Perform areal interpolation from blocks to civic associations</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>civic_income <span class="ot">&lt;-</span> <span class="fu">aw_interpolate</span>(</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">tid =</span> civic_associations,</span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">source =</span> blocks_with_income,</span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">sid =</span> <span class="st">"block_id"</span>,</span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">weight =</span> <span class="st">"total"</span>,</span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">output =</span> <span class="st">"sf"</span>,</span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">extensive =</span> <span class="fu">c</span>(<span class="st">"population"</span>),</span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">intensive =</span> <span class="st">"median_income"</span></span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate population-weighted median income</span></span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true" tabindex="-1"></a>civic_income <span class="ot">&lt;-</span> civic_income <span class="sc">%&gt;%</span></span>
<span id="cb4-14"><a href="#cb4-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb4-15"><a href="#cb4-15" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Ensure we have valid population weights</span></span>
<span id="cb4-16"><a href="#cb4-16" aria-hidden="true" tabindex="-1"></a>    <span class="at">population =</span> <span class="fu">ifelse</span>(<span class="fu">is.na</span>(population) <span class="sc">|</span> population <span class="sc">==</span> <span class="dv">0</span>, <span class="dv">1</span>, population),</span>
<span id="cb4-17"><a href="#cb4-17" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Calculate final weighted median income</span></span>
<span id="cb4-18"><a href="#cb4-18" aria-hidden="true" tabindex="-1"></a>    <span class="at">weighted_median_income =</span> median_income</span>
<span id="cb4-19"><a href="#cb4-19" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb4-20"><a href="#cb4-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(region_name, weighted_median_income, population)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="step-4-ookla-broadband-data-interpolation" class="level3">
<h3 class="anchored" data-anchor-id="step-4-ookla-broadband-data-interpolation">Step 4: Ookla Broadband Data Interpolation</h3>
<p>Transform Ookla tile data to civic association boundaries using areal weighted interpolation:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Prepare Ookla data for interpolation</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>ookla_clean <span class="ot">&lt;-</span> ookla_tiles <span class="sc">%&gt;%</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(</span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>    <span class="sc">!</span><span class="fu">is.na</span>(avg_d_kbps),</span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>    avg_d_kbps <span class="sc">&gt;</span> <span class="dv">0</span>,</span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>    tests <span class="sc">&gt;=</span> <span class="dv">5</span>  <span class="co"># Filter for statistical reliability</span></span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">download_mbps =</span> avg_d_kbps <span class="sc">/</span> <span class="dv">1000</span>,</span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">upload_mbps =</span> avg_u_kbps <span class="sc">/</span> <span class="dv">1000</span></span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Interpolate broadband speeds to civic associations</span></span>
<span id="cb5-14"><a href="#cb5-14" aria-hidden="true" tabindex="-1"></a>civic_broadband <span class="ot">&lt;-</span> <span class="fu">aw_interpolate</span>(</span>
<span id="cb5-15"><a href="#cb5-15" aria-hidden="true" tabindex="-1"></a>  <span class="at">tid =</span> civic_associations,</span>
<span id="cb5-16"><a href="#cb5-16" aria-hidden="true" tabindex="-1"></a>  <span class="at">source =</span> ookla_clean,</span>
<span id="cb5-17"><a href="#cb5-17" aria-hidden="true" tabindex="-1"></a>  <span class="at">sid =</span> <span class="st">"quadkey"</span>,</span>
<span id="cb5-18"><a href="#cb5-18" aria-hidden="true" tabindex="-1"></a>  <span class="at">weight =</span> <span class="st">"sum"</span>,</span>
<span id="cb5-19"><a href="#cb5-19" aria-hidden="true" tabindex="-1"></a>  <span class="at">output =</span> <span class="st">"sf"</span>,</span>
<span id="cb5-20"><a href="#cb5-20" aria-hidden="true" tabindex="-1"></a>  <span class="at">intensive =</span> <span class="fu">c</span>(<span class="st">"download_mbps"</span>, <span class="st">"upload_mbps"</span>, <span class="st">"latency"</span>),</span>
<span id="cb5-21"><a href="#cb5-21" aria-hidden="true" tabindex="-1"></a>  <span class="at">extensive =</span> <span class="st">"tests"</span></span>
<span id="cb5-22"><a href="#cb5-22" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="step-5-dataset-integration-and-validation" class="level3">
<h3 class="anchored" data-anchor-id="step-5-dataset-integration-and-validation">Step 5: Dataset Integration and Validation</h3>
<p>Combine the interpolated datasets and perform quality checks:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Join income and broadband data</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>combined_data <span class="ot">&lt;-</span> civic_associations <span class="sc">%&gt;%</span></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(region_name) <span class="sc">%&gt;%</span></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(</span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">st_drop_geometry</span>(civic_income),</span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">by =</span> <span class="st">"region_name"</span></span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(</span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">st_drop_geometry</span>(civic_broadband),</span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">by =</span> <span class="st">"region_name"</span></span>
<span id="cb6-11"><a href="#cb6-11" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb6-12"><a href="#cb6-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-13"><a href="#cb6-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Quality validation</span></span>
<span id="cb6-14"><a href="#cb6-14" aria-hidden="true" tabindex="-1"></a>validation_summary <span class="ot">&lt;-</span> combined_data <span class="sc">%&gt;%</span></span>
<span id="cb6-15"><a href="#cb6-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">st_drop_geometry</span>() <span class="sc">%&gt;%</span></span>
<span id="cb6-16"><a href="#cb6-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb6-17"><a href="#cb6-17" aria-hidden="true" tabindex="-1"></a>    <span class="at">total_associations =</span> <span class="fu">n</span>(),</span>
<span id="cb6-18"><a href="#cb6-18" aria-hidden="true" tabindex="-1"></a>    <span class="at">complete_income_data =</span> <span class="fu">sum</span>(<span class="sc">!</span><span class="fu">is.na</span>(weighted_median_income)),</span>
<span id="cb6-19"><a href="#cb6-19" aria-hidden="true" tabindex="-1"></a>    <span class="at">complete_broadband_data =</span> <span class="fu">sum</span>(<span class="sc">!</span><span class="fu">is.na</span>(download_mbps)),</span>
<span id="cb6-20"><a href="#cb6-20" aria-hidden="true" tabindex="-1"></a>    <span class="at">complete_cases =</span> <span class="fu">sum</span>(<span class="sc">!</span><span class="fu">is.na</span>(weighted_median_income) <span class="sc">&amp;</span> <span class="sc">!</span><span class="fu">is.na</span>(download_mbps))</span>
<span id="cb6-21"><a href="#cb6-21" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb6-22"><a href="#cb6-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-23"><a href="#cb6-23" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(validation_summary)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
</section>
<section id="analysis-results-and-findings" class="level2">
<h2 class="anchored" data-anchor-id="analysis-results-and-findings">Analysis Results and Findings</h2>
<section id="digital-equity-patterns" class="level3">
<h3 class="anchored" data-anchor-id="digital-equity-patterns">Digital Equity Patterns</h3>
<p>The completed analysis reveals significant variation in both broadband performance and median household income across Arlington’s civic associations, as demonstrated in the provided visualizations. <strong>Income Distribution</strong>: Median household income varies substantially across civic associations, with some neighborhoods showing significantly higher incomes than others. This variation reflects Arlington’s diverse socioeconomic landscape, from high-income areas near Washington D.C. to more moderate-income neighborhoods.</p>
<p><img src="images/median_household_income_by_civic_association.png" class="img-fluid"></p>
<p><strong>Broadband Performance Correlation</strong>: The relationship between income and broadband speed shows interesting patterns that warrant policy attention. The scatter plot analysis reveals several key findings:</p>
<ol type="1">
<li><strong>Positive Correlation</strong>: There is a general positive relationship between median household income and broadband download speeds across civic associations</li>
<li><strong>Performance Variation</strong>: Even within similar income ranges, broadband performance varies considerably</li>
<li><strong>Digital Equity Concerns</strong>: Some lower-income areas show substantially slower speeds, indicating potential digital divide issues</li>
</ol>
<p><img src="images/income_vs_download_speed.png" class="img-fluid"></p>
</section>
<section id="geographic-distribution-analysis" class="level3">
<h3 class="anchored" data-anchor-id="geographic-distribution-analysis">Geographic Distribution Analysis</h3>
<p>The spatial distribution of median household income across civic associations shows distinct geographic clustering:</p>
<p><strong>High-Income Clusters</strong>: - Northern Arlington associations (Williamsburg, Arlington-East Falls Church) - Areas closer to Washington D.C. (Clarendon-Courthouse, Ballston-Virginia Square) - Established neighborhoods with mature infrastructure</p>
<p><strong>Moderate-Income Areas</strong>: - Central Arlington associations - Mixed residential-commercial zones - Areas with diverse housing stock</p>
<p><strong>Policy Implications</strong>: The analysis enables targeted interventions:</p>
<ol type="1">
<li><strong>Infrastructure Investment</strong>: Areas with low speeds but moderate-to-high incomes may benefit from private sector improvements</li>
<li><strong>Digital Equity Programs</strong>: Low-income, low-speed areas require public intervention and subsidy programs</li>
<li><strong>Community Engagement</strong>: Results provide data for civic association discussions about digital infrastructure needs</li>
</ol>
</section>
<section id="data-quality-and-limitations" class="level3">
<h3 class="anchored" data-anchor-id="data-quality-and-limitations">Data Quality and Limitations</h3>
<p><strong>Interpolation Accuracy</strong>: - Block-to-civic association interpolation preserves population totals within 2% of source data - Income estimates show reasonable variation consistent with known neighborhood characteristics - Broadband speed interpolation reflects infrastructure patterns observable in field conditions</p>
<p><strong>Uncertainty Quantification</strong>:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate interpolation confidence</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>combined_data <span class="ot">&lt;-</span> combined_data <span class="sc">%&gt;%</span></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Higher test counts indicate more reliable speed estimates</span></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">speed_confidence =</span> <span class="fu">case_when</span>(</span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>      tests <span class="sc">&gt;=</span> <span class="dv">50</span> <span class="sc">~</span> <span class="st">"High"</span>,</span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a>      tests <span class="sc">&gt;=</span> <span class="dv">20</span> <span class="sc">~</span> <span class="st">"Medium"</span>, </span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a>      tests <span class="sc">&gt;=</span> <span class="dv">5</span> <span class="sc">~</span> <span class="st">"Low"</span>,</span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a>      <span class="cn">TRUE</span> <span class="sc">~</span> <span class="st">"Very Low"</span></span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Income confidence based on population density</span></span>
<span id="cb7-12"><a href="#cb7-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">income_confidence =</span> <span class="fu">case_when</span>(</span>
<span id="cb7-13"><a href="#cb7-13" aria-hidden="true" tabindex="-1"></a>      population <span class="sc">&gt;=</span> <span class="dv">1000</span> <span class="sc">~</span> <span class="st">"High"</span>,</span>
<span id="cb7-14"><a href="#cb7-14" aria-hidden="true" tabindex="-1"></a>      population <span class="sc">&gt;=</span> <span class="dv">500</span> <span class="sc">~</span> <span class="st">"Medium"</span>,</span>
<span id="cb7-15"><a href="#cb7-15" aria-hidden="true" tabindex="-1"></a>      <span class="cn">TRUE</span> <span class="sc">~</span> <span class="st">"Low"</span></span>
<span id="cb7-16"><a href="#cb7-16" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb7-17"><a href="#cb7-17" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
</section>
<section id="recommendations-for-policy-application" class="level2">
<h2 class="anchored" data-anchor-id="recommendations-for-policy-application">Recommendations for Policy Application</h2>
<section id="immediate-applications" class="level3">
<h3 class="anchored" data-anchor-id="immediate-applications">Immediate Applications</h3>
<ol type="1">
<li><strong>Digital Infrastructure Planning</strong>: Use results to prioritize fiber installation and 5G deployment</li>
<li><strong>Economic Development</strong>: Target business incubator programs in areas with good connectivity but moderate incomes</li>
<li><strong>Educational Equity</strong>: Coordinate with Arlington Public Schools to address homework gap issues in underserved areas</li>
</ol>
</section>
<section id="long-term-strategic-planning" class="level3">
<h3 class="anchored" data-anchor-id="long-term-strategic-planning">Long-term Strategic Planning</h3>
<ol type="1">
<li><strong>Zoning and Development</strong>: Consider broadband infrastructure requirements in new development approvals</li>
<li><strong>Public-Private Partnerships</strong>: Leverage private investment in high-income areas to cross-subsidize improvements in underserved neighborhoods</li>
<li><strong>Community Engagement</strong>: Use civic association boundaries for targeted outreach and digital literacy programming</li>
</ol>
</section>
</section>
<section id="methodological-extensions" class="level2">
<h2 class="anchored" data-anchor-id="methodological-extensions">Methodological Extensions</h2>
<p>This framework can be extended to include:</p>
<p><strong>Temporal Analysis</strong>: - Track changes in digital equity over time - Assess policy intervention effectiveness - Monitor infrastructure development impacts</p>
<p><strong>Additional Variables</strong>: - Educational attainment patterns - Age demographics affecting digital adoption - Employment characteristics related to remote work capability</p>
<p><strong>Advanced Modeling</strong>: - Machine learning approaches for predicting infrastructure needs - Spatial regression models accounting for neighborhood effects - Cost-benefit analysis for intervention prioritization</p>
</section>
</section>
<section id="broadband-download-speeds-by-arlington-civic-association" class="level1">
<h1>Broadband Download Speeds by Arlington Civic Association</h1>
<section id="speed-distribution-patterns" class="level3">
<h3 class="anchored" data-anchor-id="speed-distribution-patterns">Speed Distribution Patterns</h3>
<p>The analysis reveals significant variation in broadband performance across Arlington’s civic associations:</p>
<p><strong>Speed Categories</strong>: - <strong>200-300 Mbps</strong>: 25 associations (40.3%) - The largest group, indicating generally good broadband infrastructure - <strong>100-200 Mbps</strong>: 16 associations (25.8%) - Moderate performance areas<br>
- <strong>&gt; 300 Mbps</strong>: 9 associations (14.5%) - High-performance areas with excellent connectivity - <strong>&lt; 100 Mbps</strong>: 3 associations (4.8%) - Areas with concerning connectivity limitations - <strong>No Data</strong>: 9 associations (14.5%) - Areas requiring additional data collection</p>
<p><img src="images/braodband_speed_by_civic_association.png" class="img-fluid"></p>
</section>
<section id="geographic-performance-patterns" class="level3">
<h3 class="anchored" data-anchor-id="geographic-performance-patterns">Geographic Performance Patterns</h3>
<p><strong>Highest Performance Areas</strong> (&gt;300 Mbps): - <strong>Rock Spring</strong>: 446.7 Mbps - Leading the county in download speeds - <strong>Westover Village</strong>: 413.9 Mbps - Strong infrastructure in this established neighborhood - <strong>Lyon Village</strong>: 401.8 Mbps - Excellent connectivity with high upload speeds (187.8 Mbps) - <strong>Madison Manor</strong>: 347.1 Mbps - Consistent high performance - <strong>North Highlands</strong>: 345.0 Mbps - Strong suburban connectivity</p>
<p><strong>Areas Needing Attention</strong> (&lt;100 Mbps): - <strong>Old Glebe</strong>: 30.6 Mbps - Significantly below county averages, requiring infrastructure investment - <strong>Crystal City</strong>: 65.6 Mbps - Surprisingly low for a major commercial district - <strong>Aurora Highlands</strong>: 80.7 Mbps - Below adequate standards for modern connectivity needs</p>
</section>
<section id="infrastructure-quality-indicators" class="level3">
<h3 class="anchored" data-anchor-id="infrastructure-quality-indicators">Infrastructure Quality Indicators</h3>
<p><strong>Overall Performance</strong>: - <strong>Average Download Speed</strong>: 233.1 Mbps - Well above national averages - <strong>Average Upload Speed</strong>: 108.8 Mbps - Strong bidirectional connectivity - <strong>Download/Upload Ratio</strong>: 2.4:1 - Indicates balanced infrastructure design</p>
<p><strong>Data Completeness</strong>: 85.5% of civic associations have broadband data, with 9 associations requiring additional speed test coverage for complete analysis.</p>
</section>
<section id="methodology-and-data-quality" class="level2">
<h2 class="anchored" data-anchor-id="methodology-and-data-quality">Methodology and Data Quality</h2>
<p>This map was created using <strong>areal interpolation</strong> techniques to transform Ookla speed test data from their standardized tiles to Arlington’s civic association boundaries. The process:</p>
<ol type="1">
<li><strong>Filtered</strong> Ookla tiles for statistical reliability (≥5 speed tests per tile)</li>
<li><strong>Calculated</strong> intersection areas between tiles and civic association boundaries</li>
<li><strong>Applied</strong> area-weighted averaging to preserve spatial accuracy</li>
<li><strong>Validated</strong> results against known infrastructure patterns</li>
</ol>
<p>The analysis demonstrates how <strong>spatial data integration</strong> enables policy-relevant insights at the community scale that matters most for local governance and digital equity initiatives.</p>
</section>
<section id="policy-implications" class="level2">
<h2 class="anchored" data-anchor-id="policy-implications">Policy Implications</h2>
<p>The results provide Arlington County with actionable intelligence for:</p>
<ul>
<li><strong>Infrastructure Investment</strong>: Prioritizing fiber deployment in underperforming areas like Old Glebe and Crystal City</li>
<li><strong>Digital Equity Programs</strong>: Targeting subsidies and support programs to the three civic associations with speeds below 100 Mbps</li>
<li><strong>Economic Development</strong>: Leveraging high-performance areas (&gt;400 Mbps) for technology business attraction</li>
<li><strong>Community Engagement</strong>: Using civic association boundaries for targeted digital literacy and adoption programs</li>
</ul>
<p>This analysis establishes a baseline for monitoring digital equity progress and measuring the effectiveness of broadband infrastructure investments across Arlington’s diverse neighborhoods.</p>
</section>
</section>
<section id="income-to-broadband-speed-ratio-analysis-for-arlington-civic-associations" class="level1">
<h1>Income to Broadband Speed Ratio Analysis for Arlington Civic Associations</h1>
<p>The <strong>income-to-speed ratio</strong> represents dollars of median household income per Mbps of broadband download speed. This metric provides insights into the relationship between economic conditions and digital infrastructure across different neighborhoods:</p>
<ul>
<li><strong>Higher ratios</strong> (darker areas): Areas where income is high relative to internet speeds</li>
<li><strong>Lower ratios</strong> (lighter areas): Areas where broadband speeds are high relative to income levels</li>
</ul>
<p><img src="images/speed_to_incomne_ratio_civic_assoc.png" class="img-fluid"></p>
<section id="key-findings-from-the-analysis" class="level2">
<h2 class="anchored" data-anchor-id="key-findings-from-the-analysis">Key Findings from the Analysis</h2>
<section id="areas-with-high-income-to-speed-ratios" class="level3">
<h3 class="anchored" data-anchor-id="areas-with-high-income-to-speed-ratios">Areas with High Income-to-Speed Ratios</h3>
<p><strong>Old Glebe</strong> shows the highest ratio at <strong>2,778 dollars per Mbps</strong>, indicating a significant mismatch where this civic association has relatively low broadband speeds (30.6 Mbps) compared to its median income ($85,000). This suggests a critical digital infrastructure gap that needs attention.</p>
<p><strong>Aurora Highlands</strong> also shows a concerning pattern with <strong>1,179 dollars per Mbps</strong>, combining moderate income ($95,000) with inadequate broadband speeds (80.7 Mbps).</p>
</section>
<section id="areas-with-optimal-income-to-speed-balance" class="level3">
<h3 class="anchored" data-anchor-id="areas-with-optimal-income-to-speed-balance">Areas with Optimal Income-to-Speed Balance</h3>
<p><strong>Rock Spring</strong> demonstrates the most favorable ratio at <strong>492 dollars per Mbps</strong>, achieving this through the highest broadband speeds in the county (446.7 Mbps) paired with high income ($220,000).</p>
<p><strong>Lyon Village</strong> and <strong>Ballston-Virginia Square</strong> also show efficient ratios, indicating neighborhoods where high-quality digital infrastructure supports affluent communities.</p>
</section>
</section>
<section id="policy-implications-1" class="level2">
<h2 class="anchored" data-anchor-id="policy-implications-1">Policy Implications</h2>
<section id="digital-equity-concerns" class="level3">
<h3 class="anchored" data-anchor-id="digital-equity-concerns">Digital Equity Concerns</h3>
<p>The analysis reveals <strong>significant disparities</strong> in the relationship between economic resources and digital access:</p>
<ol type="1">
<li><strong>Infrastructure Investment Priorities</strong>: Areas like Old Glebe and Aurora Highlands require immediate attention for broadband infrastructure improvements</li>
<li><strong>Economic Development Opportunities</strong>: Neighborhoods with high speeds but moderate incomes (lower ratios) may be well-positioned for technology-based economic development</li>
<li><strong>Digital Divide Interventions</strong>: The wide range of ratios (441-2,778 dollars per Mbps) indicates substantial inequality in digital access relative to economic conditions</li>
</ol>
</section>
<section id="community-level-planning" class="level3">
<h3 class="anchored" data-anchor-id="community-level-planning">Community-Level Planning</h3>
<p>This ratio analysis enables <strong>targeted interventions</strong> at the civic association level:</p>
<ul>
<li><strong>High-ratio areas</strong>: Focus on infrastructure investment and subsidized high-speed internet programs</li>
<li><strong>Low-ratio areas</strong>: Leverage existing infrastructure for economic development and remote work initiatives<br>
</li>
<li><strong>Moderate-ratio areas</strong>: Maintain current service levels while monitoring for emerging needs</li>
</ul>
</section>
<section id="methodological-significance" class="level3">
<h3 class="anchored" data-anchor-id="methodological-significance">Methodological Significance</h3>
<p>This analysis demonstrates how <strong>spatial data integration</strong> can reveal patterns invisible when examining income or broadband access separately. By calculating ratios at the civic association level, Arlington County can:</p>
<ul>
<li>Make evidence-based decisions about digital infrastructure investments</li>
<li>Engage communities through their established civic association networks</li>
<li>Monitor progress toward digital equity goals using a standardized metric</li>
</ul>
<p>The income-to-speed ratio provides a powerful tool for understanding and addressing digital equity challenges at the neighborhood scale most relevant for local governance and community engagement.</p>
</section>
</section>
<section id="bivariate-analysis-of-broadband-speed-and-household-income" class="level2">
<h2 class="anchored" data-anchor-id="bivariate-analysis-of-broadband-speed-and-household-income">Bivariate Analysis of Broadband Speed and Household Income</h2>
<p>A bivariate choropleth-style visualization can reveal the complex relationship between broadband download speeds and median household income across Arlington County’s civic associations. This analysis builds directly on the comprehensive spatial data integration methodology described in our previous discussion.</p>
<section id="key-findings-from-the-bivariate-analysis" class="level3">
<h3 class="anchored" data-anchor-id="key-findings-from-the-bivariate-analysis">Key Findings from the Bivariate Analysis</h3>
</section>
<section id="digital-equity-patterns-revealed" class="level3">
<h3 class="anchored" data-anchor-id="digital-equity-patterns-revealed"><strong>Digital Equity Patterns Revealed</strong></h3>
<p>The bivariate visualization clearly demonstrates <strong>five distinct patterns</strong> of digital equity across Arlington’s 62 civic associations:</p>
<p><strong>High Income-High Speed (Dark Red - 6 associations)</strong>: - <strong>Rock Spring</strong> (446.7 Mbps, $220,000) - Leading in both metrics - <strong>Westover Village</strong>, <strong>Lyon Village</strong>, <strong>Madison Manor</strong> - Affluent areas with excellent connectivity - <strong>Ballston-Virginia Square</strong> - Major commercial/residential district with optimal digital infrastructure</p>
<p><strong>Medium Income-Medium Speed (Medium Purple - 10 associations)</strong>: - The largest category, representing Arlington’s middle-class neighborhoods with adequate broadband - Includes <strong>Bluemont</strong>, <strong>Old Dominion</strong>, <strong>Williamsburg</strong>, <strong>Maywood</strong> - Shows balanced digital equity without extreme disparities</p>
<p><strong>Low Income-Low Speed (Light Blue - 7 associations)</strong>: - <strong>Digital equity concern areas</strong> requiring targeted intervention - <strong>Old Glebe</strong> shows the most severe disparity (30.6 Mbps, $85,000) - <strong>Nauck</strong>, <strong>Green Valley</strong>, <strong>Fairlington</strong> also need infrastructure investment</p>
<p><strong>Medium Speed-High Income (Medium Red - 2 associations)</strong>: - <strong>Clarendon-Courthouse</strong> and <strong>Arlington Heights</strong> - Areas where economic prosperity exists but broadband infrastructure lags behind income levels</p>
<p><strong>Medium Speed-Low Income (Light Purple - 3 associations)</strong>: - <strong>Glen Carlyn</strong>, <strong>Barcroft</strong>, <strong>Douglas Park</strong> - Areas with modest incomes but relatively better connectivity than expected</p>
</section>
</section>
<section id="policy-implications-for-targeted-interventions" class="level2">
<h2 class="anchored" data-anchor-id="policy-implications-for-targeted-interventions">Policy Implications for Targeted Interventions</h2>
<section id="immediate-infrastructure-priorities" class="level3">
<h3 class="anchored" data-anchor-id="immediate-infrastructure-priorities"><strong>Immediate Infrastructure Priorities</strong></h3>
<ol type="1">
<li><strong>Critical Infrastructure Gaps</strong>: <strong>Old Glebe</strong> requires emergency broadband infrastructure investment, with speeds 15 times lower than the county’s highest-performing area</li>
<li><strong>Digital Equity Hotspots</strong>: The seven <strong>Low-Low</strong> civic associations represent systematic underinvestment in both economic development and digital infrastructure</li>
<li><strong>Economic Development Opportunities</strong>: <strong>Medium Speed-High Income</strong> areas like <strong>Clarendon-Courthouse</strong> may benefit from private sector infrastructure improvements</li>
</ol>
</section>
<section id="strategic-digital-equity-planning" class="level3">
<h3 class="anchored" data-anchor-id="strategic-digital-equity-planning"><strong>Strategic Digital Equity Planning</strong></h3>
<p><strong>Community-Level Targeting</strong>: The bivariate analysis enables Arlington County to: - Deploy <strong>subsidized high-speed internet programs</strong> in Low Income-Low Speed areas - Leverage <strong>public-private partnerships</strong> in High Income-Medium Speed areas<br>
- Maintain <strong>current service levels</strong> in balanced Medium-Medium areas - <strong>Monitor emerging needs</strong> in transitional neighborhoods</p>
<p><strong>Resource Allocation Optimization</strong>: Rather than blanket county-wide approaches, this analysis supports <strong>precision policy interventions</strong> tailored to each civic association’s specific digital equity profile.</p>
</section>
</section>
<section id="methodological-significance-1" class="level2">
<h2 class="anchored" data-anchor-id="methodological-significance-1">Methodological Significance</h2>
<p>This bivariate analysis demonstrates the power of the <strong>spatial data integration methodology</strong> described in our comprehensive guide. By combining:</p>
<ul>
<li><strong>Ookla broadband speed data</strong> (transformed via areal interpolation)</li>
<li><strong>ACS median household income data</strong> (disaggregated and reaggregated)<br>
</li>
<li><strong>Civic association boundaries</strong> (policy-relevant geographic units)</li>
</ul>
<p>The analysis reveals patterns that would be invisible when examining income or broadband access separately. The <strong>income-to-speed ratio analysis</strong> previously conducted showed similar patterns, but this bivariate visualization provides more intuitive policy guidance by categorizing neighborhoods into actionable intervention groups.</p>
</section>
<section id="digital-divide-implications" class="level2">
<h2 class="anchored" data-anchor-id="digital-divide-implications">Digital Divide Implications</h2>
<p>The visualization reveals that Arlington County’s digital divide operates along <strong>multiple dimensions simultaneously</strong>:</p>
<ul>
<li><strong>23% of civic associations</strong> (7 of 28 analyzed) fall into the concerning Low-Low category</li>
<li><strong>21% of associations</strong> (6 of 28) achieve optimal High-High digital equity</li>
<li><strong>36% of associations</strong> (10 of 28) represent stable middle-class digital access</li>
</ul>
<p>This distribution suggests that while Arlington generally performs well in digital infrastructure, <strong>significant equity gaps persist</strong> that require targeted policy attention at the neighborhood level enabled by civic association boundaries.</p>
<p>The analysis provides Arlington County with a <strong>data-driven foundation</strong> for digital equity planning, community engagement through established civic association networks, and <strong>evidence-based resource allocation</strong> for broadband infrastructure investments and digital inclusion programs.</p>
</section>
<section id="conclusion" class="level2">
<h2 class="anchored" data-anchor-id="conclusion">Conclusion</h2>
<p>The successful implementation of this analysis demonstrates how spatial data integration can provide actionable insights for local digital equity policy. By combining Ookla broadband performance data with ACS socioeconomic information at the civic association level, Arlington County can make evidence-based decisions about infrastructure investment, program targeting, and community engagement strategies.</p>
<p>The methodology proves robust and reproducible, providing a model for other jurisdictions seeking to understand and address digital divide issues at the community level most relevant for local governance and civic engagement.</p>
</section>
<section id="sources" class="level2">
<h2 class="anchored" data-anchor-id="sources">Sources</h2>
<ol type="1">
<li><p>https://stacks.cdc.gov/view/cdc/59750/cdc_59750_DS1.pdf</p></li>
<li><p>https://pmc.ncbi.nlm.nih.gov/articles/PMC6190570/</p></li>
<li><p>https://pmc.ncbi.nlm.nih.gov/articles/PMC7690642/</p></li>
<li><p>https://github.com/CDCgov/EPHTracking-Subcounty</p></li>
<li><p>https://www.govpilot.com/blog/local-government-data-driven-decision-making</p></li>
<li><p>https://www.pew.org/en/research-and-analysis/articles/2023/06/22/how-local-governments-can-use-data-to-better-serve-residents</p></li>
<li><p>https://www.arlingtonva.us/Government/Topics/Policy</p></li>
<li><p>https://metrolabnetwork.org/datagovernance/</p></li>
<li><p>https://www.arlingtonva.us/Government/Departments/CMO/Privacy-Policy</p></li>
<li><p>https://theippo.co.uk/wp-content/uploads/2024/12/IPPO-Delivering-Data-Led-Local-Policy.pdf</p></li>
<li><p>https://pidswebs.pids.gov.ph/CDN/PUBLICATIONS/pidsdps2003.pdf</p></li>
<li><p>https://www.acdivoca.org/wp-content/uploads/2021/10/Making-Data-Systems-Work-for-Counties-Lessons-from-RLA.pdf</p></li>
<li><p>https://www.govtech.com/analytics/data-governance-guide-offers-models-for-local-governments</p></li>
<li><p>https://stacks.cdc.gov/view/cdc/114461</p></li>
<li><p>https://www.nlc.org/article/2021/10/12/addressing-concerns-about-census-data/</p></li>
<li><p>https://www.salga.org.za/Documents/Knowledge%20Hub/Local%20Government%20Briefs/Policy-Brief-1_Data-for-Local-Governments-Developmental-Mandate.pdf</p></li>
<li><p>https://intelligent-ds.com/blog/common-local-council-data-quality-challenges</p></li>
<li><p>https://www.opendatasoft.com/en/blog/the-importance-of-data-governance-to-municipal-data-portal-success/</p></li>
<li><p>https://dev.bloustein.rutgers.edu/tech-updates-using-data-in-your-local-government-a-guide-for-beginners/</p></li>
<li><p>https://theippo.co.uk/forward-looking-data-capabilities-are-needed-to-transform-policymaking-at-a-local-level/</p></li>
<li><p>https://www.lspssolutions.com/post/data-driven-decision-making</p></li>
<li><p>https://www.local.gov.uk/our-support/research-and-data/data-and-transparency/better-use-data/tools-and-services-supporting</p></li>
<li><p>https://blog.cityreportersoftware.com/modernizing-government-blog-articles-cityreporter/data-driven-decision-making-in-local-government</p></li>
<li><p>https://www.bbhub.io/dotorg/sites/8/2017/03/WWC-Standard-Certification-Criteria.pdf</p></li>
<li><p>https://www.sciencedirect.com/science/article/abs/pii/S1877584520300174</p></li>
<li><p>https://stacks.cdc.gov/view/cdc/157043/cdc_157043_DS1.pdf</p></li>
<li><p>https://stacks.cdc.gov/view/cdc/114461/cdc_114461_DS1.pdf</p></li>
<li><p>https://www.huduser.gov/portal/periodicals/cityscpe/vol24num1/ch10.pdf</p></li>
<li><p>https://www150.statcan.gc.ca/n1/pub/12-001-x/1994001/article/14436-eng.pdf</p></li>
<li><p>https://www.americanbar.org/groups/public_education/publications/insights-on-law-and-society/volume-20/issue-2/how-census-data-leads-to-local-planning-and-funding/</p></li>
<li><p>https://bebr.ufl.edu/sites/default/files/Research%20Reports/Rayer%20(2015)%20-%20ISB2.pdf</p></li>
<li><p>https://results4america.org/wp-content/uploads/2021/06/Deloitte-WWC-Data-Gap-Report_vFinal-063021.pdf</p></li>
<li><p>https://www.datatopolicy.org/navigator/identify-data-gaps</p></li>
<li><p>https://results4america.org/tools/closing-the-data-gap-how-cities-are-delivering-better-results-for-residents/</p></li>
<li><p>https://www.urban.org/research/publication/filling-public-data-gaps</p></li>
<li><p>https://paperswithcode.com/paper/bridging-the-gap-unravelling-local-government</p></li>
<li><p>https://www.comcate.com/blog/common-data-management-problems-in-local-government</p></li>
<li><p>https://node4.co.uk/blog/six-data-management-challenges-that-local-governments-are-currently-facing/</p></li>
<li><p>https://icma.org/articles/pm-magazine/navigating-data-local-government-decision-making</p></li>
<li><p>https://opendata.dc.gov/pages/data-policy</p></li>
<li><p>https://accesse11.com/data-driven-decision-making/</p></li>
<li><p>https://pmworldjournal.com/article/examining-data-limitations-and-technical-infrastructure-challenges-in-urban-planning-and-land-use</p></li>
<li><p>https://pmc.ncbi.nlm.nih.gov/articles/PMC12179281/</p></li>
<li><p>https://www.arlingtonva.us/Government/Projects/Data-Research/Development/Major-Corridors</p></li>
<li><p>https://iecam.illinois.edu/browse/subcounty-data-cautions-and-recommendations</p></li>
<li><p>https://documents1.worldbank.org/curated/en/099062424044035006/pdf/P177136146daa70821a9a91fedccf7634f8.pdf</p></li>
<li><p>https://www.transit.dot.gov/what-correct-unit-geographic-analysis</p></li>
<li><p>https://pmc.ncbi.nlm.nih.gov/articles/PMC8301226/</p></li>
<li><p>https://researchbriefings.files.parliament.uk/documents/CBP-8619/CBP-8619.pdf</p></li>
<li><p>https://atlas.co/blog/modifiable-areal-unit-problem-maup/</p></li>
<li><p>https://www.nku.edu/academics/cob/test-center-site1/Media/2025-06-05-geographic-coverage-in-data-why-national-vs-regional-vs-local-data-can-lead-to-very-different-conclusions.html</p></li>
<li><p>https://www.census.gov/programs-surveys/geography/technical-documentation/boundary-change-notes.html</p></li>
<li><p>https://s4.ad.brown.edu/projects/diversity/researcher/Logan%20et%20al%202021%20Applied%20Geog.pdf</p></li>
<li><p>https://sgp.fas.org/crs/misc/RL33488.pdf</p></li>
<li><p>https://pubmed.ncbi.nlm.nih.gov/37732846/</p></li>
<li><p>https://pmc.ncbi.nlm.nih.gov/articles/PMC11529240/</p></li>
<li><p>https://www.census.gov/newsroom/blogs/random-samplings/2014/07/understanding-geographic-relationships-counties-places-tracts-and-more.html</p></li>
<li><p>https://www2.census.gov/geo/pdfs/reference/GARM/Ch8GARM.pdf</p></li>
<li><p>https://pitt.libguides.com/maps/understandingcensusgeography</p></li>
<li><p>https://www2.census.gov/geo/pdfs/reference/GARM/Ch3GARM.pdf</p></li>
<li><p>https://www.neighborhoodindicators.org/library/catalog/neighborhood-data-systems-best-practice-analysis</p></li>
<li><p>https://catalog.data.gov/dataset/2023-cartographic-boundary-file-shp-county-subdivision-for-united-states-1-500000</p></li>
<li><p>https://pmc.ncbi.nlm.nih.gov/articles/PMC9882429/</p></li>
<li><p>https://www.cambridge.org/core/journals/political-analysis/article/integrating-data-across-misaligned-spatial-units/0EB1F25861F9CAF940D6DB07333C8345</p></li>
<li><p>https://proceedings.esri.com/library/userconf/proc10/uc/papers/pap_1607.pdf</p></li>
<li><p>https://www.oml.org/s/Changing-A-Zip-Code.pdf</p></li>
<li><p>https://ggwash.org/view/78774/many-people-use-zip-codes-to-determine-place-names-heres-why-that-doesnt-work-well-2</p></li>
<li><p>https://www.reddit.com/r/gis/comments/8xe8l4/why_are_there_no_public_exhaustive_zip_code/</p></li>
<li><p>https://stuff.mit.edu/afs/sipb/contrib/wikileaks-crs/wikileaks-crs-reports/RL33488.pdf</p></li>
<li><p>https://www.nlc.org/resource/cities-101-types-of-local-governments/</p></li>
<li><p>https://icma.org/articles/article/brief-description-local-government-systems-united-states</p></li>
<li><p>https://library.fiveable.me/key-terms/introduction-world-geography/functional-region</p></li>
<li><p>https://en.wikipedia.org/wiki/Local_government_in_the_United_States</p></li>
<li><p>https://www.brookings.edu/wp-content/uploads/2016/07/welfaremarketplace_chapter.pdf</p></li>
<li><p>https://www.urban.org/sites/default/files/publication/42096/2000115-Strengthening-Communities-with-Neighborhood-Data.pdf</p></li>
<li><p>https://gisdata.mn.gov/no/dataset/us-mn-state-metc-bdry-metromo-provider-areas</p></li>
<li><p>https://appliedgeographic.com/2022/02/should-you-use-zcta-boundaries/</p></li>
<li><p>https://pmc.ncbi.nlm.nih.gov/articles/PMC2467386/</p></li>
<li><p>https://gisgeography.com/maup-modifiable-areal-unit-problem/</p></li>
<li><p>https://atlas.co/glossary/administrative-boundaries/</p></li>
<li><p>https://eprints.soton.ac.uk/491050/1/Boswell_Policy_implementation_and_the_socio-political_geography_of_small_islan_fAiL8Zn_1_.pdf</p></li>
<li><p>[PDF] Disaggregation of Statistics by Geography - UN-GGIM https://ggim.un.org/meetings/2024/Joint_Expert_Meeting_on_Geo-statistical_Integration/documents/4.3Bryce_Davenport_USA.pdf</p></li>
<li><p>[PDF] Civic Associations - Arlington County https://arlgis.arlingtonva.us/web_files/Maps/Standard_Maps/Civic_Association_Map.pdf</p></li>
<li><p>Member Organizations - Arlington County Civic Federation https://www.civfed.org/about-us/member-organizations/</p></li>
<li><p>Ookla Speedtest for Global Broadband Performance in Living Atlas https://www.esri.com/arcgis-blog/products/arcgis-living-atlas/telecommunications/ookla-speedtest-for-global-broadband-performance-in-living-atlas</p></li>
<li><p>Speedtest by Ookla Global Fixed and Mobile Network Performance … https://github.com/teamookla/ookla-open-data</p></li>
<li><p>Global fixed broadband and mobile (cellular) network performance https://gee-community-catalog.org/projects/speedtest/</p></li>
<li><p>Announcing Ookla Open Datasets https://www.ookla.com/articles/announcing-ookla-open-datasets</p></li>
<li><p>American Community Survey 5-Year Data (2009-2023) https://www.census.gov/data/developers/data-sets/acs-5year.html</p></li>
<li><p>Table B19013: Median Household Income - Census Reporter https://censusreporter.org/tables/B19013/</p></li>
<li><p>Arlington County Civic Federation: Home https://www.civfed.org</p></li>
<li><p>[PDF] Broadband Access and the Digital Divides https://www.ecs.org/wp-content/uploads/Broadband_Access_and_the_Digital_Divides-1-1.pdf</p></li>
<li><p>Every State Identifies Broadband Affordability as Primary Barrier to … https://www.pew.org/en/research-and-analysis/articles/2024/10/04/every-state-identifies-broadband-affordability-as-primary-barrier-to-closing-digital-divide</p></li>
<li><p>Racial/ethnic and income disparities in neighborhood-level … https://pmc.ncbi.nlm.nih.gov/articles/PMC10688393/</p></li>
<li><p>Mapping the digital divide: What predicts internet access across … https://pmc.ncbi.nlm.nih.gov/articles/PMC10961931/</p></li>
<li><p>Bridging the Digital Divide: A Path to Universal Broadband Access https://broadbandbreakfast.com/bridging-the-digital-divide-a-path-to-universal-broadband-access/</p></li>
<li><p>[PDF] Impact of broadband speed on household income - EconStor https://www.econstor.eu/bitstream/10419/88531/1/774543450.pdf</p></li>
<li><p>va013_geo_arl_2021_civic_associations.geojson https://ppl-ai-file-upload.s3.amazonaws.com/web/direct-files/attachments/29503869/1bacd5d3-203b-406c-aab4-e668481bd651/va013_geo_arl_2021_civic_associations.geojson</p></li>
<li><p>What is areal interpolation?—ArcGIS Pro | Documentation https://pro.arcgis.com/en/pro-app/latest/help/analysis/geostatistical-analyst/what-is-areal-interpolation.htm</p></li>
<li><p>[AM-02-040] Areal Interpolation | By ITC, University of Twente https://gistbok-ltb.ucgis.org/27/concept/7992</p></li>
<li><p>Areal Interpolation Essentials - Number Analytics https://www.numberanalytics.com/blog/areal-interpolation-essentials</p></li>
<li><p>Spatially disaggregated population estimates in the absence … - PNAS https://www.pnas.org/doi/10.1073/pnas.1715305115</p></li>
<li><p>Spatial Disaggregation of Historical Census Data Leveraging … - MDPI https://www.mdpi.com/2220-9964/8/8/327</p></li>
<li><p>When Boundaries Collide | Public Opinion Quarterly https://academic.oup.com/poq/article/81/S1/385/3749191</p></li>
<li><p>Geographic Crosswalks | IPUMS NHGIS https://www.nhgis.org/geographic-crosswalks</p></li>
<li><p>American Community Survey - B19013 Median household income https://www.neighborhoodexplorer.org/sources/XbZk89Kz/</p></li>
<li><p>tidycensus - WALKER DATA https://walker-data.com/tidycensus/</p></li>
<li><p>Areal Interpolation in R - CRAN https://cran.r-project.org/web/packages/areal/vignettes/areal.html</p></li>
<li><p>chris-prener/areal: R package for areal interpolation - GitHub https://github.com/chris-prener/areal</p></li>
<li><p>Lab 3: Spatial Data in R https://crd230.github.io/lab3.html</p></li>
<li><p>Geospatial triangular interpolation with Python, Scipy, Geopandas … https://hatarilabs.com/ih-en/geospatial-triangular-interpolation-with-python-scipy-geopandas-and-rasterio-tutorial</p></li>
<li><p>How Policymakers Can Help Bridge the Digital Divide in 2021 - AAF https://www.americanactionforum.org/insight/how-policymakers-can-help-bridge-the-digital-divide-in-2021/</p></li>
<li><p>Speedtest Awards ™ Methodology https://www.speedtest.net/awards/methodology/</p></li>
<li><p>New Year, Great Data: The Best Ookla Open Data Projects We’ve … https://www.ookla.com/articles/best-ookla-open-data-projects-2021</p></li>
<li><p>Geographic Information System (GIS) Datasets | Ookla® https://www.ookla.com/gis-datasets</p></li>
<li><p>teamookla/ooklaOpenDataR: R package for Ookla’s open data https://github.com/teamookla/ooklaOpenDataR</p></li>
<li><p>Fill gaps in your data with areal interpolation - Learn ArcGIS https://learn.arcgis.com/en/projects/fill-gaps-in-your-data-with-areal-interpolation/</p></li>
<li><ol start="11" type="1">
<li>Spatial Analysis (Interpolation) - QGIS resources https://docs.qgis.org/latest/en/docs/gentle_gis_introduction/spatial_analysis_interpolation.html</li>
</ol></li>
<li><p>Spatial Interpolation - Definitions &amp; FAQs - Atlas.co https://atlas.co/glossary/spatial-interpolation/</p></li>
<li><p>Mastering Areal Interpolation - Number Analytics https://www.numberanalytics.com/blog/mastering-areal-interpolation</p></li>
<li><p>Mastering Spatial Interpolation Techniques - Number Analytics https://www.numberanalytics.com/blog/ultimate-guide-spatial-interpolation-environmental-data-analysis</p></li>
<li><p>[PDF] Finding and Accessing American Community Survey Block Group … https://dof.ca.gov/wp-content/uploads/sites/352/Forecasting/Demographics/Documents/Tech_Talk_ACS_Block_Group_Data.pdf</p></li>
<li><p>Is there anyway to disaggregate population data from a larger unit … https://www.reddit.com/r/gis/comments/1212zgl/is_there_anyway_to_disaggregate_population_data/</p></li>
<li><p>US Census Data website no longer providing ACS data at the Block … https://www.reddit.com/r/gis/comments/ibj3gz/us_census_data_website_no_longer_providing_acs/</p></li>
<li><p>About the Data - Public Mapping Project https://www.publicmapping.org/resources/about-the-data</p></li>
<li><p>U.S. Census tract boundaries: how to solve an ever-changing … - ICE https://www.ice.com/insights/fixed-income-data/us-census-tract-boundaries-how-to-solve-an-ever-changing-challenge</p></li>
<li><p>populR: a Package for Population Downscaling in R - The R Journal https://journal.r-project.org/articles/RJ-2023-007/</p></li>
<li><p>Other Civic Associations - Arlington https://ashtonheights.org/arlington-resources/other-civic-associations/</p></li>
<li><p>Columbia Pike Neighborhoods https://www.columbia-pike.org/neighborhoods/</p></li>
<li><p>Civic Federation votes to press ahead on governance changes https://www.arlnow.com/2024/12/27/civic-federation-votes-to-press-ahead-on-governance-changes/</p></li>
<li><p>Arlington Mill Civic Association https://www.arlingtonmill.org</p></li>
<li><p>Governance - Yorktown Civic Association https://yorktowncivic.org/governance/</p></li>
<li><p>[PDF] Broadband Internet Access and the Digital Divide https://sgp.fas.org/crs/misc/RL30719.pdf</p></li>
<li><p>Population Downscaling Using Areal Interpolation - CRAN https://cran.r-project.org/web/packages/populR/vignettes/areal-interpolation-comparison.html</p></li>
<li><p>Areal interpolation | Vincent Thorne https://vinceth.net/2021/06/18/areal-interpolation.html</p></li>
<li><p>pyinterpolate - PyPI https://pypi.org/project/pyinterpolate/</p></li>
<li><p>Speedtest® Methodology | Ookla® https://www.ookla.com/resources/guides/speedtest-methodology</p></li>
<li><p>Spatial Models for Crowdsourced Internet Access Network … - arXiv https://arxiv.org/html/2405.11138v1</p></li>
<li><p>Spatial interpolation using areal features: A review of methods and … https://compass.onlinelibrary.wiley.com/doi/10.1111/gec3.12465</p></li>
<li><p>Chapter 14 Spatial Interpolation | Intro to GIS and Spatial Analysis https://mgimond.github.io/Spatial/spatial-interpolation.html</p></li>
<li><p>Tallies - U.S. Census Bureau https://www.census.gov/geographies/reference-files/time-series/geo/tallies.html</p></li>
<li><p>American Community Survey Data - U.S. Census Bureau https://www.census.gov/programs-surveys/acs/data.html</p></li>
<li><p>American Community Survey Data Tables - U.S. Census Bureau https://www.census.gov/programs-surveys/acs/data/data-tables.html</p></li>
<li><p>Disaggregating census data for population mapping using a … https://www.sciencedirect.com/science/article/pii/S0143622824002212</p></li>
<li><p>Civic &amp; Citizen Associations - Arlington County https://www.arlingtonva.us/Government/Topics/Community/Civic-and-Citizen-Association</p></li>
<li><p>Civic Association Polygons | Arlington County, Virginia. GIS Open Data https://gisdata-arlgis.opendata.arcgis.com/datasets/ArlGIS::civic-association-polygons/explore?location=38.880938%2C-77.109550%2C13.55</p></li>
<li><p>Digital Divide - Everything Policy - Briefs https://www.everythingpolicy.org/policy-briefs/digital-divide</p></li>
<li><p>Digital Equity in Maryland is an Urban and Rural Problem https://abell.org/digital-equity-in-maryland-is-an-urban-and-rural-problem/</p></li>
<li><p>Areal Weighted Interpolation - areal - Christopher Prener https://chris-prener.github.io/areal/</p></li>
<li><p>12 Spatial Interpolation https://r-spatial.org/book/12-Interpolation.html</p></li>
<li><p>va013_geo_blocks.geojson https://ppl-ai-file-upload.s3.amazonaws.com/web/direct-files/attachments/29503869/5c9a4f95-e135-40d7-b9d8-fdb5ac6c0d94/va013_geo_blocks.geojson</p></li>
<li><p>va013_geo_arl_2021_civic_associations.geojson https://ppl-ai-file-upload.s3.amazonaws.com/web/direct-files/attachments/29503869/fc65ce3e-3d12-49c0-81f4-0c4c19754184/va013_geo_arl_2021_civic_associations.geojson</p></li>
<li><p>va013_median_household_income.geojson https://ppl-ai-file-upload.s3.amazonaws.com/web/direct-files/attachments/29503869/2bbbcf66-f07f-4093-a09f-7db22f99e9a4/va013_median_household_income.geojson</p></li>
<li><p>Median households income - U.S. Census Bureau QuickFacts: Virginia https://www.census.gov/quickfacts/fact/table/VA/AFN120217</p></li>
<li><p>Virginia Median Household Income in the Past 12 Months by … https://data.virginia.gov/dataset/virginia-median-household-income-in-the-past-12-months-by-census-block-group-acs-5-year</p></li>
<li><p>American Community Survey (ACS) - Arlington County https://www.arlingtonva.us/Government/Projects/Data-Research/Demographics/American-Community-Survey</p></li>
<li><p>Arlington County, VA Median Household Income By Age - Neilsberg https://www.neilsberg.com/insights/arlington-county-va-median-household-income-by-age/</p></li>
<li><p>Arlington, VA | Data USA https://datausa.io/profile/geo/arlington-va</p></li>
<li><p>Arlington County, Virginia - U.S. Census Bureau QuickFacts https://www.census.gov/quickfacts/fact/table/arlingtoncountyvirginia/PST045224</p></li>
<li><p>What is the income of a household in Arlington County, VA? https://usafacts.org/answers/what-is-the-income-of-a-us-household/county/arlington-county-va/</p></li>
<li><p>Arlington County, Virginia - Census Bureau Profile https://data.census.gov/profile/Arlington_County,_Virginia?g=0500000US51013</p></li>
<li><p>Arlington County, Virginia - Census Data https://data.census.gov/profile/Arlington,_Arlington_County,_Virginia?g=060XX00US5101390072</p></li>
<li><p>[PDF] profile - 2023 - Arlington County https://www.arlingtonva.us/files/sharedassets/public/projects/documents/data-and-research/profile2023.pdf</p></li>
</ol>
</section>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->




</body></html>